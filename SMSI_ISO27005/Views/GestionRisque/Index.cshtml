@model IPagedList<SMSI_ISO27005.ViewModels.CIDActifVM>
@using PagedList.Mvc;
@using PagedList;
@{
    ViewBag.Title = "Gestion Des Risque";
    Layout = "~/Views/Shared/_Dashboard.cshtml";
}

<h2>Gestion Des Risque</h2>
<p>
    @Html.ActionLink("Ajouter", "Create")
</p>
<table class="table table-hover">
    <tr class="thead-dark">
        <th>Nom Vulnerabilite</th>
        <th>Nom Actif</th>
        <th>Nom Action</th>
        <th>Description Risque</th>
        <th>Risque Dicision</th>
    </tr>
    @*.Where(w=> w.actifDetailles.id_actif== int.Parse(Session["IdActif"].ToString()) )*@
    @foreach (var item in Model)
    {

        <tr>
            <td> @Html.ActionLink(@item.vulnerabilteDetailles.nom_vulne, "VulneDatails", "Menace", new { id = item.vulnerabilteDetailles.id_vulne }, null)</td>
            <td> @Html.ActionLink(@item.actifDetailles.nom_actif, "Details", "actifs", new { id = item.actifDetailles.id_actif }, null)</td>
            <td> @Html.ActionLink(@item.actionDetailles.nom_action, "ActionDatails", "GestionRisque", new { id = item.actionDetailles.id_action }, null)</td>
            <td> @Html.ActionLink(@item.gestionDetailles.description_gestion_risk, "RiskDatails", "GestionRisque", new { id = item.actionDetailles.id_action }, null)</td>
            <td> @item.gestionDetailles.risk_dicision</td>
        </tr>




    }
    @*<td style="margin-bottom=2px">@Html.ActionLink("Mes Actifs", "index", "actifs")</td>*@

</table>

<nav aria-label="Page navigation example">@Html.PagedListPager(Model, i => Url.Action("Index", "GestionRisque", new { i, search = Request.QueryString["search"] }))</nav>